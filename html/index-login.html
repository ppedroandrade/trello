<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trello - Login</title>
  <link rel="stylesheet" href="../css/style-login.css">
</head>
<body>
  <div class="backgrounds">
    <img src="../assets/Logo-bck.svg" class="bg-ilustra" alt="Ilustração">
    <img src="../assets/PNG-Bck.svg" class="bg-svg" alt="Background SVG">
  </div>

  <div class="container">
    <div class="login-box">
      <h1 class="logo">Trello</h1>
      <p class="subtitle">Entre para continuar</p>
      <input type="email" placeholder="Insira seu e-mail">
      <label class="checkbox"><input type="checkbox"> Continuar conectado</label>
      <button class="primary-btn" onclick="entrar()">Continuar</button>

      <div class="divider">Ou prossiga com :</div>
      <div class="social-buttons">
        <button class="social-btn google">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" alt="Google">
          Entrar com Google
        </button>
<button class="social-btn microsoft">
  <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg" alt="Microsoft">
  Entrar com Microsoft
</button>

<button class="social-btn apple">
  <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg" alt="Apple" style="filter: invert(1);">
  Entrar com Apple
</button>
        <button class="social-btn slack">
          <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/slack/slack-original.svg" alt="Slack">
          Entrar com Slack
        </button>
      </div>

      <div class="footer-links">
        <a href="#">Não consegue entrar?</a> · <a href="#">Criar uma conta</a>
      </div>
      <p class="powered">powered by pedroandrade ©</p>
    </div>
  </div>

<script>
  async function entrar() {
    const emailInput = document.querySelector('input[type="email"]');
    const email = emailInput.value.trim().toLowerCase();

    if (!email) {
      alert("Por favor, insira seu e-mail.");
      return;
    }

    try {
      const response = await fetch("data.json");
      const data = await response.json();

      const existe = data.usuarios.some(user => user.email.toLowerCase() === email);

      if (existe) {
        localStorage.setItem("usuario", email);
        window.location.href = "main.html";
      } else {
        alert("E-mail não encontrado. Verifique ou crie uma conta.");
      }
    } catch (error) {
      console.error("Erro ao carregar data.json:", error);
      alert("Erro interno. Tente novamente mais tarde.");
    }
  }
</script>
</body>
</html>